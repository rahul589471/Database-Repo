select * from employee;


select listagg(name,',') within group(order by name) from employee;


select * from v$version;
--Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production	
--"Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
--Version 19.3.0.0.0"	Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
--0

-- This is version 19 but we are talking about 12 c enhancements here

select listagg(object_name,',') within group(order by object_name) from dba_objects;
-- ORA-01489: result of string concatenation is too long
--01489. 00000 -  "result of string concatenation is too long"
--*Cause:    String concatenation result is more than the maximum size.
--*Action:   Make sure that the result is less than the maximum size.
 -- till 11g
 
-- Now in 12 c, we have option for on overflow truncate or on overflow error
select listagg(object_name,',' on overflow truncate) within group(order by object_name) from dba_objects;

-- A123456789B123456789C123456789D123456789E,ABSPATH,ABSPATH,ACCESS$,ACCESSION_NUMBER_ORD_IMG_T,ACL$_OBJ,ACLMV$,ACLMV$_BASE_VIEW,ACLMV$_MVINFO,ACLMV$_REFLOG,ACLMVREFSTAT$,ACLMVSUBTBL$,ACQUISITION_DATETIME_ORD_IMG_T,ACQUISITION_DATE_ORD_IMG_T,ACQUISITION_NUMBER_ORD_IMG_T,ACQUISITION_TIME_ORD_IMG_T,ACTION_ORD_DCM_C,ACTION_ORD_DCM_T,ADDRESS_PERF_CHECK,ADD_AGENT_CERTIFICATE,ADMINAUTH$,ADMITTING_DIAG_DESC_ORD_IMG_C,ADMITTING_DIAG_DESC_ORD_IMG_T,ADO_IMCSEQ$,ADO_IMPARAM$,ADO_IMSEGSTAT$,ADO_IMSEGTASKDETAILS$,ADO_IMSTAT$,ADO_IMTASKS$,ADR_HOME_T,ADR_HOME_T,ADR_HOME_T,ADR_INCIDENT_CORR_KEYS_T,ADR_INCIDENT_CORR_KEYS_T,ADR_INCIDENT_CORR_KEY_T,ADR_INCIDENT_ERR_ARGS_T,ADR_INCIDENT_ERR_ARGS_T,ADR_INCIDENT_FILES_T,ADR_INCIDENT_FILES_T,ADR_INCIDENT_FILE_T,ADR_INCIDENT_INFO_T,ADR_INCIDENT_T,ADR_INCIDENT_T,ADR_INCIDENT_T,ADR_LOG_MSG_ARGS_T,ADR_LOG_MSG_ARGS_T,ADR_LOG_MSG_ARG_T,ADR_LOG_MSG_ARG_T,ADR_LOG_MSG_ECID_T,ADR_LOG_MSG_ECID_T,ADR_LOG_MSG_ERRID_T,ADR_LOG_MSG_ERRID_T,ADR_LOG_MSG_SUPPL_ATTRS_T,ADR_LOG_MSG_SUPPL_ATTRS_T,ADR_LOG_MSG_SUPPL_ATTR_T,ADR_LOG_MSG_SUPPL_ATTR_T,ADR_LOG_MSG_T,ADR_LOG_MSG_T,ADR_MSG_TEMPLATE_T,ADVISOR_OBJECT,ADVISOR_OBJECT,ADVISOR_OBJECT,AE_ATTR_ORD_DCM_T,AGE_STRING_ORD_DCM_C,AGGRCENTROID,AGGRCENTROID,AGGRCONCAT,AGGRCONCAT,AGGRCONCAVEHULL,AGGRCONCAVEHULL,AGGRCONVEXHULL,AGGRCONVEXHULL,AGGRLRSCONCAT,AGGRLRSCONCAT,AGGRLRSCONCAT3D,AGGRLRSCONCAT3D,AGGRMBR,AGGRMBR,AGGRUNION,AGGRUNION,AGGXMLIMP,AGGXQAVGIMP,AGGXQIMP,AGGXQSUMIMP,ALERT_QT,ALERT_QUE,ALERT_QUE$1,ALERT_QUE$1,ALERT_QUE_N,ALERT_QUE_R,ALERT_TYPE,ALERT_TYPE,ALERT_TYPE,ALL$AW_CUBE_ENABLED_HIERCOMBO,ALL$AW_CUBE_ENABLED_VIEWS,ALL$AW_DIM_ENABLED_VIEWS,ALL$OLAP2_AWS,ALL$OLAP2_AW_ATTRIBUTES,ALL$OLAP2_AW_CATALOGS,ALL$OLAP2_AW_CATALOG_MEASURES,ALL$OLAP2_AW_CUBES,ALL$OLAP2_AW_CUBE_AGG_LVL,ALL$OLAP2_AW_CUBE_AGG_MEAS,ALL$OLAP2_AW_CUBE_AGG_OP,ALL$OLAP2_AW_CUBE_AGG_SPECS,ALL$OLAP2_AW_CUBE_DIM_USES,ALL$OLAP2_AW_CUBE_MEASURES,ALL$OLAP2_AW_DIMENSIONS,ALL$OLAP2_AW_DIM_HIER_LVL_ORD,ALL$OLAP2_AW_DIM_LEVELS,ALL$OLAP2_AW_PHYS_OBJ,ALL$OLAP2_AW_PHYS_OBJ_PROP,ALL_ALL_TABLES,ALL_ALL_TABLES,ALL_ANALYTIC_VIEWS,ALL_ANALYTIC_VIEWS,ALL_ANALYTIC_VIEW_ATTR_CLASS,ALL_ANALYTIC_VIEW_ATTR_CLASS,ALL_ANALYTIC_VIEW_BASE_MEAS,ALL_ANALYTIC_VIEW_BASE_MEAS,ALL_ANALYTIC_VIEW_CALC_MEAS,ALL_ANALYTIC_VIEW_CALC_MEAS,ALL_ANALYTIC_VIEW_CLASS,ALL_ANALYTIC_VIEW_CLASS,ALL_ANALYTIC_VIEW_COLUMNS,ALL_ANALYTIC_VIEW_COLUMNS,ALL_ANALYTIC_VIEW_DIMENSIONS,ALL_ANALYTIC_VIEW_DIMENSIONS,ALL_ANALYTIC_VIEW_DIM_CLASS,ALL_ANALYTIC_VIEW_DIM_CLASS,ALL_ANALYTIC_VIEW_HIERS,ALL_ANALYTIC_VIEW_HIERS,ALL_ANALYTIC_VIEW_HIER_CLASS,ALL_ANALYTIC_VIEW_HIER_CLASS,ALL_ANALYTIC_VIEW_KEYS,ALL_ANALYTIC_VIEW_KEYS,ALL_ANALYTIC_VIEW_LEVELS,ALL_ANALYTIC_VIEW_LEVELS,ALL_ANALYTIC_VIEW_LEVEL_CLASS,ALL_ANALYTIC_VIEW_LEVEL_CLASS,ALL_ANALYTIC_VIEW_LVLGRPS,ALL_ANALYTIC_VIEW_LVLGRPS,ALL_ANALYTIC_VIEW_MEAS_CLASS,ALL_ANALYTIC_VIEW_MEAS_CLASS,ALL_ANNOTATION_TEXT_METADATA,ALL_ANNOTATION_TEXT_METADATA,ALL_APPLY,ALL_APPLY,ALL_APPLY_CHANGE_HANDLERS,ALL_APPLY_CHANGE_HANDLERS,ALL_APPLY_CONFLICT_COLUMNS,ALL_APPLY_CONFLICT_COLUMNS,ALL_APPLY_DML_CONF_COLUMNS,ALL_APPLY_DML_CONF_COLUMNS,ALL_APPLY_DML_CONF_HANDLERS,ALL_APPLY_DML_CONF_HANDLERS,ALL_APPLY_DML_HANDLERS,ALL_APPLY_DML_HANDLERS,ALL_APPLY_ENQUEUE,ALL_APPLY_ENQUEUE,ALL_APPLY_ERROR,ALL_APPLY_ERROR,ALL_APPLY_ERROR_MESSAGES,ALL_APPLY_ERROR_MESSAGES,ALL_APPLY_EXECUTE,ALL_APPLY_EXECUTE,ALL_APPLY_HANDLE_COLLISIONS,ALL_APPLY_HANDLE_COLLISIONS,ALL_APPLY_INSTANTIATED_GLOBAL,ALL_APPLY_INSTANTIATED_GLOBAL,ALL_APPLY_INSTANTIATED_OBJECTS,ALL_APPLY_INSTANTIATED_OBJECTS,ALL_APPLY_INSTANTIATED_SCHEMAS,ALL_APPLY_INSTANTIATED_SCHEMAS,ALL_APPLY_KEY_COLUMNS,ALL_APPLY_KEY_COLUMNS,ALL_APPLY_PARAMETERS,ALL_APPLY_PARAMETERS,ALL_APPLY_PROGRESS,ALL_APPLY_PROGRESS,ALL_APPLY_REPERROR_HANDLERS,ALL_APPLY_REPERROR_HANDLERS,ALL_APPLY_SPILL_TXN,ALL_APPLY_SPILL_TXN,ALL_APPLY_TABLE_COLUMNS,ALL_APPLY_TABLE_COLUMNS,ALL_ARGUMENTS,ALL_ARGUMENTS,ALL_ASSEMBLIES,
--ALL_ASSEMBLIES,ALL_ASSOCIATIONS,ALL_ASSOCIATIONS,ALL_ATTRIBUTE_DIMENSIONS,...(72286)

-- It means it has truncated 72286 characters



-- Without count

select listagg(object_name,',' on overflow truncate without count) within group(order by object_name) from dba_objects;
-- A123456789B123456789C123456789D123456789E,ABSPATH,ABSPATH,ACCESS$,ACCESSION_NUMBER_ORD_IMG_T,ACL$_OBJ,ACLMV$,ACLMV$_BASE_VIEW,ACLMV$_MVINFO,ACLMV$_REFLOG,ACLMVREFSTAT$,ACLMVSUBTBL$,ACQUISITION_DATETIME_ORD_IMG_T,ACQUISITION_DATE_ORD_IMG_T,ACQUISITION_NUMBER_ORD_IMG_T,ACQUISITION_TIME_ORD_IMG_T,ACTION_ORD_DCM_C,ACTION_ORD_DCM_T,ADDRESS_PERF_CHECK,ADD_AGENT_CERTIFICATE,ADMINAUTH$,ADMITTING_DIAG_DESC_ORD_IMG_C,ADMITTING_DIAG_DESC_ORD_IMG_T,ADO_IMCSEQ$,ADO_IMPARAM$,ADO_IMSEGSTAT$,ADO_IMSEGTASKDETAILS$,ADO_IMSTAT$,ADO_IMTASKS$,ADR_HOME_T,ADR_HOME_T,ADR_HOME_T,ADR_INCIDENT_CORR_KEYS_T,ADR_INCIDENT_CORR_KEYS_T,ADR_INCIDENT_CORR_KEY_T,ADR_INCIDENT_ERR_ARGS_T,ADR_INCIDENT_ERR_ARGS_T,ADR_INCIDENT_FILES_T,ADR_INCIDENT_FILES_T,ADR_INCIDENT_FILE_T,ADR_INCIDENT_INFO_T,ADR_INCIDENT_T,ADR_INCIDENT_T,ADR_INCIDENT_T,ADR_LOG_MSG_ARGS_T,ADR_LOG_MSG_ARGS_T,ADR_LOG_MSG_ARG_T,ADR_LOG_MSG_ARG_T,ADR_LOG_MSG_ECID_T,ADR_LOG_MSG_ECID_T,ADR_LOG_MSG_ERRID_T,ADR_LOG_MSG_ERRID_T,ADR_LOG_MSG_SUPPL_ATTRS_T,ADR_LOG_MSG_SUPPL_ATTRS_T,ADR_LOG_MSG_SUPPL_ATTR_T,ADR_LOG_MSG_SUPPL_ATTR_T,ADR_LOG_MSG_T,ADR_LOG_MSG_T,ADR_MSG_TEMPLATE_T,ADVISOR_OBJECT,ADVISOR_OBJECT,ADVISOR_OBJECT,AE_ATTR_ORD_DCM_T,AGE_STRING_ORD_DCM_C,AGGRCENTROID,AGGRCENTROID,AGGRCONCAT,AGGRCONCAT,AGGRCONCAVEHULL,AGGRCONCAVEHULL,AGGRCONVEXHULL,AGGRCONVEXHULL,AGGRLRSCONCAT,AGGRLRSCONCAT,AGGRLRSCONCAT3D,AGGRLRSCONCAT3D,AGGRMBR,AGGRMBR,AGGRUNION,AGGRUNION,AGGXMLIMP,AGGXQAVGIMP,AGGXQIMP,AGGXQSUMIMP,ALERT_QT,ALERT_QUE,ALERT_QUE$1,ALERT_QUE$1,ALERT_QUE_N,ALERT_QUE_R,ALERT_TYPE,ALERT_TYPE,ALERT_TYPE,ALL$AW_CUBE_ENABLED_HIERCOMBO,ALL$AW_CUBE_ENABLED_VIEWS,ALL$AW_DIM_ENABLED_VIEWS,ALL$OLAP2_AWS,ALL$OLAP2_AW_ATTRIBUTES,ALL$OLAP2_AW_CATALOGS,ALL$OLAP2_AW_CATALOG_MEASURES,ALL$OLAP2_AW_CUBES,ALL$OLAP2_AW_CUBE_AGG_LVL,ALL$OLAP2_AW_CUBE_AGG_MEAS,ALL$OLAP2_AW_CUBE_AGG_OP,ALL$OLAP2_AW_CUBE_AGG_SPECS,ALL$OLAP2_AW_CUBE_DIM_USES,ALL$OLAP2_AW_CUBE_MEASURES,ALL$OLAP2_AW_DIMENSIONS,ALL$OLAP2_AW_DIM_HIER_LVL_ORD,ALL$OLAP2_AW_DIM_LEVELS,ALL$OLAP2_AW_PHYS_OBJ,ALL$OLAP2_AW_PHYS_OBJ_PROP,ALL_ALL_TABLES,ALL_ALL_TABLES,ALL_ANALYTIC_VIEWS,ALL_ANALYTIC_VIEWS,ALL_ANALYTIC_VIEW_ATTR_CLASS,ALL_ANALYTIC_VIEW_ATTR_CLASS,ALL_ANALYTIC_VIEW_BASE_MEAS,ALL_ANALYTIC_VIEW_BASE_MEAS,ALL_ANALYTIC_VIEW_CALC_MEAS,ALL_ANALYTIC_VIEW_CALC_MEAS,ALL_ANALYTIC_VIEW_CLASS,ALL_ANALYTIC_VIEW_CLASS,ALL_ANALYTIC_VIEW_COLUMNS,ALL_ANALYTIC_VIEW_COLUMNS,ALL_ANALYTIC_VIEW_DIMENSIONS,ALL_ANALYTIC_VIEW_DIMENSIONS,ALL_ANALYTIC_VIEW_DIM_CLASS,ALL_ANALYTIC_VIEW_DIM_CLASS,ALL_ANALYTIC_VIEW_HIERS,ALL_ANALYTIC_VIEW_HIERS,ALL_ANALYTIC_VIEW_HIER_CLASS,ALL_ANALYTIC_VIEW_HIER_CLASS,ALL_ANALYTIC_VIEW_KEYS,ALL_ANALYTIC_VIEW_KEYS,ALL_ANALYTIC_VIEW_LEVELS,ALL_ANALYTIC_VIEW_LEVELS,ALL_ANALYTIC_VIEW_LEVEL_CLASS,ALL_ANALYTIC_VIEW_LEVEL_CLASS,ALL_ANALYTIC_VIEW_LVLGRPS,ALL_ANALYTIC_VIEW_LVLGRPS,ALL_ANALYTIC_VIEW_MEAS_CLASS,ALL_ANALYTIC_VIEW_MEAS_CLASS,ALL_ANNOTATION_TEXT_METADATA,ALL_ANNOTATION_TEXT_METADATA,ALL_APPLY,ALL_APPLY,ALL_APPLY_CHANGE_HANDLERS,ALL_APPLY_CHANGE_HANDLERS,ALL_APPLY_CONFLICT_COLUMNS,ALL_APPLY_CONFLICT_COLUMNS,ALL_APPLY_DML_CONF_COLUMNS,ALL_APPLY_DML_CONF_COLUMNS,ALL_APPLY_DML_CONF_HANDLERS,ALL_APPLY_DML_CONF_HANDLERS,ALL_APPLY_DML_HANDLERS,ALL_APPLY_DML_HANDLERS,ALL_APPLY_ENQUEUE,ALL_APPLY_ENQUEUE,ALL_APPLY_ERROR,ALL_APPLY_ERROR,ALL_APPLY_ERROR_MESSAGES,ALL_APPLY_ERROR_MESSAGES,ALL_APPLY_EXECUTE,ALL_APPLY_EXECUTE,ALL_APPLY_HANDLE_COLLISIONS,ALL_APPLY_HANDLE_COLLISIONS,ALL_APPLY_INSTANTIATED_GLOBAL,ALL_APPLY_INSTANTIATED_GLOBAL,ALL_APPLY_INSTANTIATED_OBJECTS,ALL_APPLY_INSTANTIATED_OBJECTS,ALL_APPLY_INSTANTIATED_SCHEMAS,ALL_APPLY_INSTANTIATED_SCHEMAS,ALL_APPLY_KEY_COLUMNS,ALL_APPLY_KEY_COLUMNS,ALL_APPLY_PARAMETERS,ALL_APPLY_PARAMETERS,ALL_APPLY_PROGRESS,ALL_APPLY_PROGRESS,ALL_APPLY_REPERROR_HANDLERS,ALL_APPLY_REPERROR_HANDLERS,ALL_APPLY_SPILL_TXN,ALL_APPLY_SPILL_TXN,ALL_APPLY_TABLE_COLUMNS,ALL_APPLY_TABLE_COLUMNS,ALL_ARGUMENTS,ALL_ARGUMENTS,ALL_ASSEMBLIES,ALL_ASSEMBLIES,ALL_ASSOCIATIONS,ALL_ASSOCIATIONS,ALL_ATTRIBUTE_DIMENSIONS,
-- ALL_ATTRIBUTE_DIMENSIONS,...


-- See no count now



--- On error , we can also include which is by default

select listagg(object_name,',' on overflow error ) within group(order by object_name) from dba_objects;

--ORA-01489: result of string concatenation is too long
--01489. 00000 -  "result of string concatenation is too long"
--*Cause:    String concatenation result is more than the maximum size.
--*Action:   Make sure that the result is less than the maximum size.

